<!DOCTYPE html>
<html lang="en" class="text-[18px] scroll-p-[120px]">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      Troubleshooting | elixir-tools
    </title>

    <link rel="stylesheet" href="/css/site.css">

  </head>

  <body class="font-sans dark:bg-gradient-to-br dark:from-zinc-950 dark:via-zinc-900 dark:bg-zinc-900 dark:text-white">
    <div id="the-universe">
      <header class="top-0 sticky z-10 w-full bg-white dark:bg-zinc-900 mx-auto p-2 border-b-2 border-zinc-950 dark:border-white">
        <section class="container flex justify-between items-center mx-auto py-2">
          <div class="flex items-center space-x-2">
            <a href="/" class="hover:underline">
              <img src="/elixir-tools-no-background.png" class="h-8 w-8">

            </a>

            <h1 class="font-semibold text-gray-800 dark:text-white text-base lg:text-2xl ">
              <a href="/" class="no-underline hover:underline">
                elixir-tools
              </a>

              <span>/</span>
              <a href="/docs/next-ls/quickstart" class="no-underline hover:underline">
                docs / next-ls
              </a>

            </h1>

          </div>

          <div class="flex flex-col-reverse md:flex-row items-center gap-2">
            <a class="github-button" href="https://github.com/elixir-tools/next-ls" data-size="large" data-show-count="true" aria-label="Star elixir-tools/next-ls on GitHub">
              Star
            </a>

            <button class="block lg:hidden" type="button" onclick="sidebar.classList.toggle('hidden')">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5">

              </svg>

            </button>

          </div>

        </section>

      </header>

      <div class="h-full">
        <div class="flex h-full">
  <div id="sidebar" class="hidden z-20 bg-white dark:bg-zinc-950 lg:block fixed px-4 w-full lg:w-64 border-r border-zinc-950 dark:border-white pt-4 h-full overflow-y-auto max-h-[calc(100%-110px)]">
    <aside>
      <h3 class="font-fancy text-sm font-normal text-zinc-400 border-l-4 mb-2 border-transparent pl-1">
        Getting Started
      </h3>
      <ul class="list-none space-y-1">
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/quickstart">
            Quickstart
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/installation">
            Installation
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/editors">
            Editors
          </a>

        </li>

      </ul>
      <h3 class="font-fancy text-sm font-normal text-zinc-400 border-l-4 mb-2 border-transparent pl-1">
        Features
      </h3>
      <ul class="list-none space-y-1">
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/compiler-diagnostics">
            Compiler Diagnostics
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/go-to-definition">
            Go To Definition
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/completions">
            Completions
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/find-references">
            Find References
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/formatting">
            Formatting
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/hover">
            Hover Documentation
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/document-symbols">
            Document Symbols
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/workspace-symbols">
            Workspace Symbols
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/workspace-folders">
            Workspace Folders
          </a>

        </li>

      </ul>
      <h3 class="font-fancy text-sm font-normal text-zinc-400 border-l-4 mb-2 border-transparent pl-1">
        Extensions
      </h3>
      <ul class="list-none space-y-1">
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/credo">
            Credo
          </a>

        </li>

      </ul>
      <h3 class="font-fancy text-sm font-normal text-zinc-400 border-l-4 mb-2 border-transparent pl-1">
        Help
      </h3>
      <ul class="list-none space-y-1">
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-normal border-gold-400" href="/docs/next-ls/troubleshooting">
            Troubleshooting
          </a>

        </li>
        <li class="m-0">
          <a class="border-l-4 pl-1 no-underline font-thin border-transparent" href="/docs/next-ls/faq">
            FAQ
          </a>

        </li>

      </ul>

    </aside>

  </div>

  <div class="hidden lg:block px-4 min-w-[16rem]"></div>

  <div class="w-full pt-8 lg:px-2 flex-1 overflow-auto">
    <div class="prose dark:prose-invert container mx-auto px-2">
      <article class="mx-auto max-w-4xl mb-8">
  <div class="flex items-center justify-between">
    <h1 class="font-bold text-2xl">
      Troubleshooting
    </h1>

  </div>

  <hr class="mt-4 mb-8">
  <article class="prose dark:prose-invert mb-16">
    <h2><a href="#check-the-logs" aria-hidden="true" class="anchor" id="check-the-logs"></a>Check the logs</h2>
<p>When something seems wrong, the first thing you should do is check the logs!</p>
<h3><a href="#visual-studio-code" aria-hidden="true" class="anchor" id="visual-studio-code"></a>Visual Studio Code</h3>
<p>In Visual Studio Code, the logs are available in the <code>Output</code> tab in the bottom panel. You'll want to select <code>Next LS</code> from the dropdown in that panel.</p>
<h3><a href="#nvim" aria-hidden="true" class="anchor" id="nvim"></a>Nvim</h3>
<p>In Nvim, there are several ways to check the LSP logs.</p>
<p>If you happen to also have <a href="https://github.com/neovim/nvim-lspconfig">nvim-lspconfig</a> installed, you can run <code>:LspLog</code> and it will open a new tab with all of the LSP logs.</p>
<p>This is often hard to read, so I created a plugin called <a href="https://github.com/mhanberg/output-panel.nvim">output-panel.nvim</a> that closely resembles the Output Panel from Visual Studio Code.</p>
<h2><a href="#is-epmd-running" aria-hidden="true" class="anchor" id="is-epmd-running"></a>Is <code>epmd</code> running?</h2>
<p><code>epmd</code>, or &quot;Erlang Port Mapper Daemon&quot;, is used to cluster two Erlang nodes together. Next LS starts a runtime node for your project and communicates with it via clustering.</p>
<h3><a href="#linuxmac" aria-hidden="true" class="anchor" id="linuxmac"></a>Linux/Mac:</h3>
<pre class="autumn highlight" style="background-color: #1F1F28; color: #DCD7BA;"><code class="language-bash" translate="no"><span class="function" style="color: #7E9CD8;">pgrep</span> <span class="constant" style="color: #FFA066;">-fl</span> epmd
</code></pre>
<p>If <code>epmd</code> is not running, you might need to start it or ensure it starts automatically with your system. You can do this by running <code>epmd -daemon</code>.</p>
<h2><a href="#ensure-glibc-version-is-at-least-234" aria-hidden="true" class="anchor" id="ensure-glibc-version-is-at-least-234"></a>Ensure <code>glibc</code> version is at least 2.34</h2>
<p><code>glibc</code> is the C standard library that the ERTS is dynamically linked against, so it must be present on your computer. But, some operating systems are bundled with a version of <code>glibc</code> that is too old for the ERTS.</p>
<h3><a href="#linux" aria-hidden="true" class="anchor" id="linux"></a>Linux:</h3>
<pre class="autumn highlight" style="background-color: #1F1F28; color: #DCD7BA;"><code class="language-bash" translate="no"><span class="function" style="color: #7E9CD8;">ldd</span> <span class="constant" style="color: #FFA066;">--version</span>
</code></pre>
<p>This will show the <code>glibc</code> version at the top. Ensure it's 2.34 or higher.</p>
<h3><a href="#mac" aria-hidden="true" class="anchor" id="mac"></a>Mac:</h3>
<p>macOS doesn't use <code>glibc</code>; it uses the Darwin C Library. Hence, this step is not applicable.</p>
<h3><a href="#windows" aria-hidden="true" class="anchor" id="windows"></a>Windows:</h3>
<p>Windows does not use <code>glibc</code>. If you're using a subsystem or tool that needs it, ensure it's updated.</p>
<h2><a href="#open-visual-studio-code-from-the-terminal" aria-hidden="true" class="anchor" id="open-visual-studio-code-from-the-terminal"></a>Open Visual Studio Code from the terminal</h2>
<p>To ensure that <code>elixir</code> is in your <code>PATH</code>, open Visual Studio Code from the terminal using the <a href="https://code.visualstudio.com/docs/editor/command-line#_launching-from-command-line">command-line tools</a>.</p>
<p>Next LS will print the path of the <code>elixir</code> executable that it finds and will be using to start your runtime node.</p>
<h2><a href="#does-it-work-in-tcp-mode" aria-hidden="true" class="anchor" id="does-it-work-in-tcp-mode"></a>Does it work in TCP mode?</h2>
<h3><a href="#all-platforms" aria-hidden="true" class="anchor" id="all-platforms"></a>All Platforms:</h3>
<p>Start the language server in TCP mode and connect to it with your editor, as described above.</p>
<p>Both extensions install the Next LS executable to <code>~/.cache/elixir-tools/nextls/bin/nextls</code>, so you can start the server with <code>~/.cache/elixir-tools/nextls/bin/nextls --port 9000</code>.</p>
<h2><a href="#firewall-interference" aria-hidden="true" class="anchor" id="firewall-interference"></a>Firewall Interference</h2>
<p>Sometimes, the firewall can interfere with <code>epmd</code> and each Erlang node's ability to cluster. If you face connection issues, you might try turning off the firewall temporarily to see if it resolves the issue.</p>
<p>This is usually a problem on macOS, as you should see a popup asking if <code>beam</code> and <code>epmd</code> can accept incoming connections (which you should click &quot;yes&quot;).</p>
<p>In future version, we plan to sign and notarize the darwin binaries, which should avoid this popups and make this a non-issue.</p>

  </article>

</article>


    </div>

    <div class="lg:px-4">
<footer id="footer" class="@container text-zinc-950 dark:text-white py-4 border-t-2 border-zinc-950 dark:border-white z-10 w-full">
  <div class="container mx-auto px-2 grid grid-cols-1 @sm:grid-cols-2 @lg:grid-cols-3 @5xl:grid-cols-4 gap-x-16 gap-y-8">
    <div>
      <h4 class="text-lg font-medium mb-2">Tools</h4>

      <ul>
        <li>
          <a href="/docs/next-ls/quickstart" class="text-zinc-950 dark:text-white hover:underline">
            Next LS
          </a>

        </li>
        <li>
          <a href="https://github.com/elixir-tools/credo-language-server" class="text-zinc-950 dark:text-white hover:underline">
            Credo Language Server
          </a>

        </li>
        <li>
          <a href="https://github.com/elixir-tools/elixir-tools.nvim" class="text-zinc-950 dark:text-white hover:underline">
            elixir-tools.nvim
          </a>

        </li>
        <li>
          <a href="https://github.com/elixir-tools/elixir-tools.vscode" class="text-zinc-950 dark:text-white hover:underline">
            elixir-tools.vscode
          </a>

        </li>
        <li>
          <a href="https://github.com/elixir-tools/gen_lsp" class="text-zinc-950 dark:text-white hover:underline">
            GenLSP
          </a>

        </li>
        <li>
          <a href="https://github.com/elixir-tools/tableau" class="text-zinc-950 dark:text-white hover:underline">
            Tableau
          </a>

        </li>

      </ul>

    </div>

    <div>
      <h4 class="text-lg font-medium mb-2">Organization</h4>

      <ul>
        <li>
          <a href="https://www.elixir-tools.dev" class="text-zinc-950 dark:text-white hover:underline">
            Website
          </a>

        </li>

        <li>
          <a href="https://github.com/elixir-tools" class="text-zinc-950 dark:text-white hover:underline">
            GitHub
          </a>

        </li>

        <li>
          <a href="https://twitter.com/elixir_tools" class="text-zinc-950 dark:text-white hover:underline">
            Twitter
          </a>

        </li>

        <li>
          <a href="https://discord.gg/6XdGnxVA2A" class="text-zinc-950 dark:text-white hover:underline">
            Discord
          </a>

        </li>

      </ul>

    </div>

    <div>
      <h4 class="text-lg font-medium mb-2">Team</h4>

      <ul>
        <li>
          <a href="https://github.com/sponsors/mhanberg" class="text-zinc-950 dark:text-white hover:underline">
            Mitchell Hanberg
          </a>

        </li>

      </ul>

    </div>

    <div>
      <h4 class="text-lg font-medium mb-2">Site</h4>

      <ul>
        <li>
          <a href="/feed.xml" class="text-zinc-950 dark:text-white hover:underline">
            RSS
          </a>

        </li>

        <li>
          <a href="https://github.com/elixir-tools/elixir-tools.dev" class="text-zinc-950 dark:text-white hover:underline">
            Source Code
          </a>

        </li>

        <li class="italic text-sm mt-2">
          <span>Built with</span>

          <a class="underline" href="https://github.com/elixir-tools/tableau">Tableau,</a>

          <a class="underline" href="https://tailwindcss.com">TailwindCSS,</a>

           and
          <span class="text-red-500">â™¥</span>

        </li>

      </ul>

    </div>

  </div>

</footer>


    </div>

  </div>

  <aside class="hidden xl:block min-w-[12rem] px-4 pt-4 h-full">
    <div class="fixed">
      <h3 class="font-fancy text-sm font-normal text-zinc-400 mb-2">
        On this page
      </h3>

      <ul class="list-none space-y-1">
        <li class="m-0">
          <a class="no-underline font-thin" href="#check-the-logs">
            Check the logs
          </a>

        </li>
        <li class="m-0">
          <a class="no-underline font-thin" href="#is-epmd-running">
            Is epmd running?
          </a>

        </li>
        <li class="m-0">
          <a class="no-underline font-thin" href="#ensure-glibc-version-is-at-least-234">
            Ensure glibc version is at least 2.34
          </a>

        </li>
        <li class="m-0">
          <a class="no-underline font-thin" href="#open-visual-studio-code-from-the-terminal">
            Open Visual Studio Code from the terminal
          </a>

        </li>
        <li class="m-0">
          <a class="no-underline font-thin" href="#does-it-work-in-tcp-mode">
            Does it work in TCP mode?
          </a>

        </li>
        <li class="m-0">
          <a class="no-underline font-thin" href="#firewall-interference">
            Firewall Interference
          </a>

        </li>

      </ul>

    </div>

  </aside>

</div>


      </div>

<script>
  function log(message) {
    if (true) {
      console.log(`[web_dev_utils] ${message}`)
    }
  }
  function connect() {
    try {
      window.socket = new WebSocket('wss://' + location.host + '/ws');

      window.socket.onmessage = function(e) {
        if (e.data === "reload") {
          log("reloading!");
          location.reload();
        } else if (e.data === "subscribed") {
          log("connected and subscribed!");
        }
      }

      window.socket.onopen = () => {
        waitForConnection(() => {
          log("sending 'subscribe' message");
          window.socket.send("subscribe")
        }
        , 300);
      };

      window.socket.onclose = () => {
        setTimeout(() => connect(), 500);
      };

      function waitForConnection(callback, interval) {
        log("waiting for connection!")
        if (window.socket.readyState === 1) {
          callback();
        } else {
          log("setting a timeout")
          setTimeout(() => waitForConnection(callback, interval), interval);
        }
      }
    } catch (e) {
      log(e);
      setTimeout(() => connect(), 500);
    }
  }

  log("about to connect");
  connect();
</script>
      <script async defer src="https://buttons.github.io/buttons.js"></script>

    </div>

  </body>

</html>

